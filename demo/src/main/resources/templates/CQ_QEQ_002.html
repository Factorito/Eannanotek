<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LED 스크린 전광판 견적서</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    body { font-family: 'Inter', sans-serif; }
    .glass { background: rgba(255,255,255,0.7); box-shadow: 0 8px 32px 0 rgba(31,38,135,0.18); backdrop-filter: blur(12px); border-radius: 1.5rem; border: 1px solid rgba(255,255,255,0.18); }
    .table-custom { border-collapse: collapse; width: 100%; font-size: 0.9rem; }
    .table-custom th, .table-custom td { border: 1px solid #d1d5db; padding: 0.5rem; vertical-align: middle; }
    .table-custom th { background: #f3f4f6; font-weight: 600; text-align: center; }
    .table-section-header { background: #f9fafb; font-weight: 700; text-align: center; }
    .table-section-green { background: #e6f4ea; }
    .table-section-yellow { background: #fffbe6; }
    .table-bordered th, .table-bordered td { border: 1px solid #e5e7eb; } /* Tailwind border-gray-200 */
    .table-info-header { background-color: #f3f4f6; font-weight: bold; text-align: center; } /* For top info table headers */
  </style>
</head>
<body class="bg-gradient-to-br from-white to-gray-200 min-h-screen">
<header class="w-full bg-white/80 backdrop-blur-md shadow z-50 sticky top-0">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center py-2">
      <a herf="/prototpye/main" class="text-sm text-gray-800 font-semibold">Prototype</a>
    </div>
    <div class="flex items-center justify-between py-4">
      <div class="flex items-center space-x-4">
        <a href="http://eannanotek.com/" target="_blank" rel="noopener noreferrer">
          <img src="/Eannanotek.png" alt="Eannanotek 로고" class="w-12 h-12 object-contain" />
        </a>
      </div>
      <nav class="flex items-center space-x-4">
          <a href="/prototype/main" class="nav-link text-gray-900 hover:text-black font-medium transition-colors duration-300">웹 메인</a>
          <a href="/prototype/qeq1" class="nav-link text-gray-900 hover:text-black font-medium transition-colors duration-300">비교견적 신청</a>
          <a href="/prototype/main3" class="nav-link text-gray-900 hover:text-black font-medium transition-colors duration-300">이력 조회</a>
          <a href="/prototype/mi1" class="nav-link text-gray-900 hover:text-black font-medium transition-colors duration-300">재료/부품 정보</a>
          <a href="/prototype/mi3" class="nav-link text-gray-900 hover:text-black font-medium transition-colors duration-300">FAQ</a>
          <a href="/prototype/write" class="nav-link text-gray-900 hover:text-black font-medium transition-colors duration-300">글쓰기</a>
        <th:block th:if="${session.user == null}">
          <a href="/prototype/login" class="px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800">로그인</a>
          <a href="/prototype/register" class="px-4 py-2 bg-white border border-gray-300 text-gray-800 rounded-lg hover:bg-gray-100">회원가입</a>
        </th:block>

        <th:block th:if="${session.user != null}">
          <a href="/prototype/main2"><span class="text-gray-700">[ <b th:text="${session.user.email}">사용자</b> ]</span></a>
          <form th:action="@{/prototype/logout}" method="post" style="display:inline;">

            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
            <button type="submit" class="px-4 py-2 bg-gray-100 border border-gray-300 text-gray-800 rounded-lg hover:bg-gray-200">
              로그아웃
            </button>
          </form>
        </th:block>
      </nav>
    </div>
  </div>
</header>

<main class="max-w-7xl mx-auto px-4 py-8 bg-white shadow-lg rounded-lg p-6">
  <h1 class="text-3xl font-bold text-center text-gray-800 mb-6">LED 스크린 전광판 견적서</h1>

  <table class="table-custom mb-6 text-sm">
    <thead>
    <tr>
      <th class="w-[10%] table-info-header">견적번호</th>
      <td class="w-[20%]" th:text="${estimateNo}"></td>
      <th class="w-[10%] table-info-header">견적일자</th>
      <td class="w-[20%]" th:text="${estimateDate}"></td>
      <th class="w-[10%] table-info-header">상호(주)</th>
      <td class="w-[30%]" th:text="${companyName}"></td>
    </tr>
    </thead>
    <tbody>
    <tr>
      <th class="table-info-header">사업자번호</th>
      <td th:text="${companyNo}"></td>
      <th class="table-info-header">대표자명</th>
      <td th:text="${ceoName}"></td>
      <th class="table-info-header">전화번호</th>
      <td th:text="${phone}"></td>
    </tr>
    <tr>
      <th class="table-info-header">팩스번호</th>
      <td th:text="${faxNumber ?: '정보없음'}"></td> <th class="table-info-header">발신인</th>
      <td th:text="${sender}"></td>
      <th class="table-info-header">이메일</th>
      <td th:text="${email}"></td>
    </tr>
    <tr>
      <th class="table-info-header">주소</th>
      <td colspan="5" th:text="${address}"></td>
    </tr>
    </tbody>
  </table>

  <div class="mb-6 border border-gray-300 rounded overflow-hidden">
    <div class="bg-gray-100 p-3 font-semibold text-gray-700 text-center text-lg border-b border-gray-300">
      견 적 금 액
    </div>
    <div class="grid grid-cols-3 bg-white text-base">
      <div class="p-3 border-r border-gray-300 text-center font-semibold">공사금액</div>
      <div class="p-3 border-r border-gray-300 text-center font-semibold">부가세</div>
      <div class="p-3 text-center font-semibold">총 합계</div>
      <div class="p-3 border-r border-gray-300 text-center" th:text="${price}"></div>
      <div class="p-3 border-r border-gray-300 text-center" th:text="${vat}"></div>
      <div class="p-3 text-center font-bold text-xl text-blue-700" th:text="${total}"></div>
    </div>
  </div>

  <table class="table-custom mb-6">
    <thead>
    <tr>
      <th class="w-10">NO.</th>
      <th class="w-[30%]" colspan="3">내 역</th>
      <th class="w-[10%]">수량/식</th>
      <th class="w-[15%]">단가</th>
      <th class="w-[15%]">견적금액</th>
    </tr>
    </thead>
    <tbody>
    <tr class="table-section-header">
      <td>1</td>
      <td colspan="6">전광판 규격</td>
    </tr>
    <tr>
      <td></td>
      <td colspan="3">전광판 본체사이즈</td>
      <td colspan="3" th:text="${내경}"></td>
    </tr>
    <tr>
      <td></td>
      <td colspan="3">Led Pixel Pitch/ Chip Number</td>
      <td colspan="3" th:text="${pixelPitch}"></td>
    </tr>
    <tr>
      <td></td>
      <td colspan="3">Driving Method / Refresh Rate</td>
      <td colspan="3" th:text="${drivingMethod}"></td>
    </tr>
    <tr>
      <td></td>
      <td colspan="3">Module Size / Resolution</td>
      <td colspan="3" th:text="${moduleSize}"></td>
    </tr>
    <tr>
      <td></td>
      <td colspan="3">Brightness / Screen Life Time</td>
      <td colspan="3" th:text="${brightness}"></td>
    </tr>
    <tr>
      <td></td>
      <td colspan="3">Screen Resolution</td>
      <td colspan="3" th:text="${해상도}"></td>
    </tr>
    <tr>
      <td></td>
      <td colspan="3">Module Power Consumption</td>
      <td colspan="3" th:text="${modulePower}"></td>
    </tr>
    <tr>
      <td></td>
      <td colspan="3">Power Consumption(MAX)</td>
      <td colspan="3" th:text="${powerMax}"></td>
    </tr>
    <tr>
      <td></td>
      <td colspan="3">Power Consumption(Average)</td>
      <td colspan="3" th:text="${powerAvg}"></td>
    </tr>
    <tr>
      <td></td>
      <td colspan="3">운영Program/기타 사양</td>
      <td colspan="3" th:text="${etcSpec}"></td>
    </tr>

    <tr class="table-section-header">
      <td>2</td>
      <td colspan="6">항목별 단가</td>
    </tr>
    <tr>
      <td></td>
      <td colspan="3">LED Screen 전광판</td>
      <td th:text="${item1Unit}"></td> <td></td> <td th:text="${item1Price}"></td> </tr>
    <tr>
      <td></td>
      <td colspan="3">철재베이스/제빙베이스/인입선</td>
      <td th:text="${item2Unit}"></td>
      <td></td>
      <td th:text="${item2Price}"></td>
    </tr>
    <tr>
      <td></td>
      <td colspan="3">전기/통신</td>
      <td colspan="3" class="text-center">별도</td>
    </tr>
    <tr>
      <td></td>
      <td colspan="3">스카이/크레인</td>
      <td colspan="3" class="text-center">제외</td>
    </tr>
    <tr>
      <td></td>
      <td colspan="3">CMS/통합제어</td>
      <td th:text="${item5Unit}"></td>
      <td></td>
      <td th:text="${item5Price}"></td>
    </tr>
    <tr>
      <td></td>
      <td colspan="3">운용 PC Spec/Monitor</td>
      <td th:text="${item6Unit}"></td>
      <td></td>
      <td th:text="${item6Price}"></td>
    </tr>

    <tr class="table-section-green">
      <td></td>
      <td colspan="6">Spare Part: <span th:text="${sparePart}"></span></td>
    </tr>
    <tr class="table-section-yellow">
      <td colspan="7" class="py-2">
        <div class="flex flex-col gap-1 px-2">
          <div th:text="${desc1}"></div>
          <div th:text="${desc2}"></div>
          <div th:text="${desc3}"></div>
          <div th:text="${desc4}"></div>
        </div>
      </td>
    </tr>
    <tr>
      <td colspan="6" class="text-right font-bold">합계 (VAT 별도)</td>
      <td th:text="${total}"></td>
    </tr>
    </tbody>
  </table>

  <div class="bg-white rounded-lg shadow p-4 mb-6 text-sm text-gray-700 border border-gray-300">
    <div class="grid grid-cols-2 gap-2">
      <div>결제 조건: <span th:text="${paymentCondition}"></span></div>
      <div>유효 기간: <span th:text="${validPeriod}"></span></div>
      <div>LED Chip: <span th:text="${ledChip}"></span></div>
      <div>용도/도톨: <span th:text="${usage}"></span></div>
    </div>
  </div>


  <div class="flex justify-end mt-8 mr-12 text-center text-gray-700">
    <div class="border-b border-gray-400 pb-2 mb-1 w-48"></div>
    <p class="font-bold">대표이사 (인)</p>
  </div>

  <div class="mt-8 flex justify-center">
    <a th:href="@{/prototype/downloadEstimate(email2=${email2}, installDay=${installDay})}"
       class="w-full md:w-1/2 bg-black text-white py-3 rounded-lg font-semibold hover:bg-gray-800 transition text-center"
       download>
      다운로드 및 종료
    </a>
  </div>
</main>
</body>
</html>